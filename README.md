# dunya-makam-demo
The binaries and example recordings picked for [Dunya](https://github.com/MTG/dunya/)-makam demo

This repository includes audio-score alignment binaries compiled in MATLAB 2015a, which are be used in [Dunya](https://github.com/MTG/dunya/) Ottoman-Turkish makam. Using the related [SymbTr](https://github.com/MTG/SymbTr) score, you can do the following:

- Joint tonic, tempo, tuning extraction
- Section, phrase linking
- Note-level alignment

__Examples:__

- Tonic, Tempo, Tuning
```
./run_mcr.sh extractTonicTempoTuning score.txt scoreMetadata.json audio.wav audioMelody.mat outputFolder
```

- Sections, Notes
```
./run_mcr.sh alignAudioScore score.txt scoreMetadata.json structureModel.mat audio.wav audioMelody.mat audioTonic.json audioTempo.json audioTuning.json outputFolder
```

We also supply 10 challenging audio-score examples with complete analysis & alignment. These arew used to demonstrate the strengths/weaknesses of our audio-score alignment methodology.

__Notes:__
- _extractTonicTempoTuning_ requires _scoreMetadata.json_ and _audioMelody.mat_ computed by [metadata.py](https://github.com/MTG/pycompmusic/blob/master/compmusic/extractors/makam/metadata.py) and [pitch.py](https://github.com/MTG/pycompmusic/blob/master/compmusic/extractors/makam/pitch.py), respectively.
- In addition to scoreMetadata.json and audioMelody.mat, _alignAudioScore_ requires also the _tonic.json_, _tempo.json_ and _tuning.json_ files generated by _extractTonicTempoTuning_. 
- The _tempo_, _tuning_ and _sectionModel_ inputs of the _alignAudioScore_ are currently not used internally and they can be omitted by supplying an empty string ('').
- _alignAudioScore_ initially does partial-alignment of the sections given in _scoreMetadata.json_. Make sure that the section information is entered correctly.
- Always supply wav files to _alignAudioScore_ in order to avoid time mismatches in the note-level alignment due to mp3 decoders.